(this["webpackJsonpamazon-clone"]=this["webpackJsonpamazon-clone"]||[]).push([[0],{44:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){"use strict";c.r(t);var s=c(4),n=c.n(s),a=c(35),i=c.n(a),r=(c(44),c(8)),o=(c(45),c(38)),l=c(30),j=c(37),u=(c(46),c(10)),d=c(17),b=c(3),m=Object(s.createContext)(),O=function(e){var t=e.reducer,c=e.initialState,n=e.children;return Object(b.jsx)(m.Provider,{value:Object(s.useReducer)(t,c),children:n})},h=c(32),p=h.a.initializeApp({apiKey:"AIzaSyDezegftjeXpp5wiGHk-14Q8kzvIK9aaSk",authDomain:"challenge-e4653.firebaseapp.com",projectId:"challenge-e4653",storageBucket:"challenge-e4653.appspot.com",messagingSenderId:"1043701517206",appId:"1:1043701517206:web:0adbe5fb97f2312f392bb7",measurementId:"G-TK7795BFH8"}).firestore(),g=h.a.auth(),x=function(){var e=Object(s.useContext)(m),t=Object(r.a)(e,2),c=t[0],n=c.basket,a=c.user,i=c.userName,O=t[1],h=Object(s.useState)(0),p=Object(r.a)(h,2),x=p[0],f=p[1],k=Object(u.f)();Object(s.useEffect)((function(){var e=null===n||void 0===n?void 0:n.reduce((function(e,t){return t.count+e}),0);f(e)}),[n]);return Object(b.jsxs)("div",{className:"navbar",children:[Object(b.jsxs)("div",{className:"first-section",children:[Object(b.jsx)(d.b,{to:"/",children:Object(b.jsx)("div",{className:"nav-logo",children:Object(b.jsx)("img",{src:"data:image/png;base64,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",alt:""})})}),Object(b.jsx)(d.b,{to:a?"/":"/signin",children:a?Object(b.jsxs)("div",{className:"address",style:{color:"white"},children:[Object(b.jsxs)("p",{children:["Deliver ",Object(b.jsx)(l.a,{})]}),Object(b.jsx)("h4",{children:"to India"})]}):Object(b.jsxs)("div",{className:"address",style:{color:"white"},children:[Object(b.jsxs)("p",{children:["Hello ",Object(b.jsx)(l.a,{})]}),Object(b.jsx)("h4",{children:"Select Your address"})]})}),Object(b.jsx)("div",{className:"nav-form",children:Object(b.jsxs)("form",{action:"",id:"form",children:[Object(b.jsxs)("select",{className:"category",children:[Object(b.jsx)("option",{value:"",children:"Electronics"}),Object(b.jsx)("option",{value:"",children:"Fashion"}),Object(b.jsx)("option",{value:"",children:"Kitchen"}),Object(b.jsx)("option",{value:"",children:"Deals"}),Object(b.jsx)("option",{value:"",children:"Computers"})]}),Object(b.jsx)("input",{type:"text",id:"text-input"}),Object(b.jsx)("input",{type:"submit",value:" ",id:"search-input"}),Object(b.jsx)(j.a,{className:"search-btn"})]})})]}),Object(b.jsxs)("div",{className:"second-section",children:[Object(b.jsx)(d.b,{to:!a&&"/signin",children:Object(b.jsxs)("div",{onClick:function(){a&&(g.signOut().then((function(){console.log("user,signed out",i),O({type:"SET_USER",basket:[],userId:"",userEmail:"",userName:"",user:!1}),k.push("/"),console.log("user removed from local",i)})),alert("You are successfully Sign Out"))},className:"second-option",style:{color:"white"},children:[Object(b.jsxs)("p",{children:["Hello ",i?i.trim().split(" ")[0]:" Guest"]}),Object(b.jsx)("h4",{children:a?"Sign Out":"Sign In"})]})}),Object(b.jsx)(d.b,{to:a?"/":"/signin",style:{color:"white",textDecoration:"none"},children:Object(b.jsxs)("div",{className:"second-option",onClick:function(){return!a&&alert("You need to SigIn first")},children:[Object(b.jsx)("p",{children:"Returns"}),Object(b.jsx)("h4",{children:"& Orders"})]})}),Object(b.jsx)(d.b,{to:a?"/checkout":"/signin",children:Object(b.jsxs)("div",{className:"cart",onClick:function(){return!a&&alert("You need to SigIn first")},children:[Object(b.jsx)(o.a,{style:{color:"white",fontSize:"1rem"}}),Object(b.jsx)("h4",{children:"Cart"}),Object(b.jsx)("p",{className:"tot-items",children:x||(a?"0":"")})]})})]})]})},f=c(18),k=c(13),N=c(39),v=function(e){var t=e.title,c=e.price,n=e.image,a=e.rating,i=e.id,o=e.count,l=Object(s.useContext)(m),j=Object(r.a)(l,2),O=j[0],h=O.basket,p=O.user,g=j[1],x=Object(s.useState)(!1),v=Object(r.a)(x,2),S=v[0],y=v[1],A=(Object(u.f)(),Object(s.useState)({transition:"all 1.2s ease",transform:"translateY(60px)"})),I=Object(r.a)(A,2),w=I[0],E=I[1];Object(s.useEffect)((function(){E(Object(k.a)(Object(k.a)({},w),{},{transform:"translateY(0)"}))}),[]);return Object(s.useEffect)((function(){var e=Object(f.a)(h).some((function(e){return e.id===i}));y(e)}),[h]),Object(b.jsxs)("div",{className:"product",style:w,children:[Object(b.jsxs)("div",{className:"product-info",children:[Object(b.jsx)("p",{children:t}),Object(b.jsxs)("div",{className:"product-price",children:[Object(b.jsxs)("strong",{children:["$",c]}),Object(b.jsx)("p",{className:"product-rating",children:Array(a).fill().map((function(){return Object(b.jsx)(N.a,{})}))})]})]}),Object(b.jsx)("img",{className:"product-image",src:n,alt:""}),Object(b.jsx)(d.b,{to:p?"/checkout":"/signin",children:Object(b.jsx)("button",{className:"add-to-basket-btn",onClick:function(){console.log("add",h),p?!Object(f.a)(h).some((function(e){return e.id===i}))&&g({type:"ADD_ITEM_TO_BASKET",item:{title:t,price:c,image:n,rating:a,id:i,count:o+1}}):alert("You need to Sign In first")},children:Object(b.jsx)("p",{children:S?"In Basket":"Add to Basket"})})})]})},S=(c(55),c.p+"static/media/amazon-bg.37e38a1c.jpg"),y=c.p+"static/media/amazon-bg1.7d4533da.jpg",A=c.p+"static/media/amazon-bg3.83edc3ad.jpg",I=c.p+"static/media/amazon-bg4.e55aaf9b.jpg",w=c.p+"static/media/amazon-bg5.d7c70470.jpg",E=c(31),T=function(){var e=Object(s.useState)([S,y,A,I,w]),t=Object(r.a)(e,2),c=t[0],n=t[1];return Object(b.jsxs)("div",{className:"home",children:[Object(b.jsx)("div",{className:"home-container",children:Object(b.jsxs)("div",{className:"home-slider",children:[c.map((function(e){return Object(b.jsx)("img",{src:e,alt:"",className:"home-bg"},e)})),Object(b.jsx)(E.a,{className:"arrow-back",onClick:function(){var e=Object(f.a)(c).slice(0,4);e.splice(0,0,c[4]),n(e)}}),Object(b.jsx)(E.b,{className:"arrow-forward",onClick:function(){var e=Object(f.a)(c).slice(1,5);e.push(c[0]),n(e)}})]})}),Object(b.jsxs)("div",{className:"home-row",children:[Object(b.jsx)(v,{id:"12321341",title:"The Lean Startup: How Constant Innovation Creates Radically Successful Businesses Paperback",price:11.96,rating:5,count:0,image:"https://images-na.ssl-images-amazon.com/images/I/51Zymoq7UnL._SX325_BO1,204,203,200_.jpg"},"12321341"),Object(b.jsx)(v,{id:"49538094",title:"Kenwood kMix Stand Mixer for Baking, Stylish Kitchen Mixer with K-beater, Dough Hook and Whisk, 5 Litre Glass Bowl",price:239,rating:4,count:0,image:"https://images-na.ssl-images-amazon.com/images/I/81O%2BGNdkzKL._AC_SX450_.jpg"},"49538094"),Object(b.jsx)(v,{id:"4903850",title:"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor",price:199.99,rating:3,count:0,image:"https://images-na.ssl-images-amazon.com/images/I/71Swqqe7XAL._AC_SX466_.jpg"},"4903850"),Object(b.jsx)(v,{id:"23445930",title:"Amazon Echo (3rd generation) | Smart speaker with Alexa, Charcoal Fabric",price:98.99,rating:5,count:0,image:"https://media.very.co.uk/i/very/P6LTG_SQ1_0000000071_CHARCOAL_SLf?$300x400_retinamobilex2$"},"23445930"),Object(b.jsx)(v,{id:"3254354345",title:"New Apple iPad Pro (12.9-inch, Wi-Fi, 128GB) - Silver (4th Generation)",price:598.99,rating:4,count:0,image:"https://images-na.ssl-images-amazon.com/images/I/816ctt5WV5L._AC_SX385_.jpg"},"3254354345"),Object(b.jsx)(v,{id:"90829332",title:"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor - Super Ultra Wide Dual WQHD 5120 x 1440",price:1094.98,rating:4,count:0,image:"https://images-na.ssl-images-amazon.com/images/I/6125mFrzr6L._AC_SX355_.jpg"},"90829332")]})]})},C=(c(56),c(25));var D=function(e){var t=e.item,c=Object(s.useContext)(m),n=Object(r.a)(c,2),a=(n[0].basket,n[1]),i=t.title,o=t.price,l=t.image,j=t.id,u=t.count,d=Object(s.useState)({}),O=Object(r.a)(d,2),h=O[0],p=O[1],g=function(){p(Object(k.a)(Object(k.a)({},h),{animation:"animate 0.4s ease forwards"})),setTimeout((function(){a({type:"DELETE_ITEM_FROM_BASKET",id:j})}),400)};return Object(b.jsxs)("div",{className:"cart-item",style:h,children:[Object(b.jsx)("img",{src:l,alt:""}),Object(b.jsxs)("div",{className:"item-info",children:[Object(b.jsxs)("div",{className:"item-title",children:[Object(b.jsx)("h3",{children:i}),Object(b.jsxs)("strong",{children:["$",o]})]}),Object(b.jsxs)("div",{className:"manupulate-item",children:[Object(b.jsxs)("div",{className:"manupulate-btn",children:[Object(b.jsx)("button",{className:"decrement-item",onClick:function(){u-1===0&&g(),a({type:"SET_COUNT_OF_ITEM",id:j,count:u-1>=0?u-1:0})},children:Object(b.jsx)(C.a,{})}),Object(b.jsx)("button",{children:u}),Object(b.jsx)("button",{className:"increment-item",onClick:function(){a({type:"SET_COUNT_OF_ITEM",id:j,count:u+1})},children:Object(b.jsx)(C.b,{})})]}),Object(b.jsx)("button",{className:"delete-btn",onClick:g,children:"Delete"})]})]})]})},K=function(){var e=Object(s.useContext)(m),t=Object(r.a)(e,2),c=t[0],n=c.basket,a=(c.user,c.userName),i=(t[1],Object(s.useState)(0)),o=Object(r.a)(i,2),l=o[0],j=o[1],u=Object(s.useState)(0),d=Object(r.a)(u,2),O=d[0],h=d[1];return Object(s.useEffect)((function(){var e=null===n||void 0===n?void 0:n.reduce((function(e,t){return t.price*t.count+e}),0),t=null===n||void 0===n?void 0:n.reduce((function(e,t){return t.count+e}),0);j((Math.round(100*e)/100).toFixed(2)),h(t)}),[n]),Object(b.jsxs)("div",{className:"checkout-container",children:[Object(b.jsxs)("div",{className:"shopping-cart",children:[n.length?Object(b.jsx)("h1",{children:"Shopping Cart"}):Object(b.jsxs)("div",{children:[Object(b.jsxs)("h2",{style:{marginBottom:"1rem",fontSize:"clamp(0.9rem,2vw,1.3rem)"},children:["Hello ",a||""]}),Object(b.jsx)("h1",{style:{fontSize:"clamp(1.2rem,3vw,2.4rem)"},children:"Your Shopping Basket is Empty"})]}),Object(b.jsx)("div",{className:"cart-items",children:n.map((function(e){return Object(b.jsx)(D,{item:e},e.id)}))})]}),Object(b.jsxs)("div",{className:"subtotal",children:[Object(b.jsxs)("div",{className:"subtotal-items",children:[Object(b.jsxs)("p",{children:["Subtotal (",O," itmes):",Object(b.jsxs)("strong",{children:["$",l]})]}),Object(b.jsxs)("div",{className:"checkbox",children:[Object(b.jsx)("input",{type:"checkbox",id:"check"}),Object(b.jsx)("p",{children:"This order contains a gift"})]})]}),Object(b.jsx)("button",{className:"checkout-btn",children:"Proceed to checkout"})]})]})};c(57);var F=function(){var e=Object(s.useContext)(m),t=Object(r.a)(e,2),c=t[0],n=(c.basket,c.user,c.userName,t[1]),a=Object(s.useState)(!0),i=Object(r.a)(a,2),o=i[0],l=i[1],j=Object(s.useState)(""),d=Object(r.a)(j,2),O=d[0],h=d[1],x=Object(s.useState)(""),f=Object(r.a)(x,2),k=f[0],N=f[1],v=Object(s.useState)(""),S=Object(r.a)(v,2),y=S[0],A=S[1],I=Object(u.f)();return Object(b.jsxs)("div",{className:"user-form",children:[Object(b.jsxs)("div",{className:"signup-form",children:[Object(b.jsxs)("div",{className:"form-message",children:[Object(b.jsx)("input",{type:"checkbox",name:"",id:"signup-checkbox",checked:!o,onChange:function(e){return function(e){e.target.checked&&l(!1)}(e)}}),Object(b.jsx)("h3",{children:"Create account"}),Object(b.jsx)("p",{children:"New to Amazon?"})]}),!o&&Object(b.jsxs)("div",{className:"form-input",children:[Object(b.jsxs)("div",{className:"input",children:[Object(b.jsx)("p",{children:"Your Name"}),Object(b.jsx)("input",{type:"name",name:"",id:"signup-email",value:y,onChange:function(e){return A(e.target.value)}})]}),Object(b.jsxs)("div",{className:"input",children:[Object(b.jsx)("p",{children:"Email"}),Object(b.jsx)("input",{type:"email",name:"",id:"signup-email",value:O,onChange:function(e){return h(e.target.value)}})]}),Object(b.jsxs)("div",{className:"input",children:[Object(b.jsx)("p",{children:"Password"}),Object(b.jsx)("input",{type:"password",name:"",id:"signup-password",value:k,onChange:function(e){return N(e.target.value)}})]}),Object(b.jsxs)("div",{className:"input",children:[Object(b.jsx)("p",{children:"Re-enter password"}),Object(b.jsx)("input",{type:"password",name:"",id:"signup-confirm-password"})]}),Object(b.jsx)("button",{type:"submit",className:"signup-btn",onClick:function(e){return function(e){e.preventDefault(),g.createUserWithEmailAndPassword(O,k).then((function(e){e&&(p.collection("users").doc(e.user.uid).set({userId:e.user.uid,userEmail:e.user.email,userName:y.trim(),basket:[]}).then((function(){n({type:"SET_USER",userId:e.user.uid,userEmail:e.user.email,userName:y,user:!0,basket:[]})})),console.log("account created succesfully",e.user.uid,e.user.email),I.push("/"))})).catch((function(e){return alert(e.message)}))}(e)},children:"Sign Up"})]})]}),Object(b.jsxs)("div",{className:"login-form",children:[Object(b.jsxs)("div",{className:"form-message",children:[Object(b.jsx)("input",{type:"checkbox",name:"",id:"login-checkbox",checked:o,onChange:function(e){return function(e){e.target.checked&&l(!0)}(e)}}),Object(b.jsx)("h3",{children:"Sign In"}),Object(b.jsx)("p",{children:"Already a customer?"})]}),o&&Object(b.jsxs)("div",{className:"form-input",children:[Object(b.jsxs)("div",{className:"input",children:[Object(b.jsx)("p",{children:"Your Email"}),Object(b.jsx)("input",{type:"email",name:"",id:"signin-email",value:O,onChange:function(e){return h(e.target.value)}})]}),Object(b.jsxs)("div",{className:"input",children:[Object(b.jsx)("p",{children:"Password"}),Object(b.jsx)("input",{type:"password",name:"",id:"signin-password",value:k,onChange:function(e){return N(e.target.value)}})]}),Object(b.jsx)("button",{type:"submit",className:"signin-btn",onClick:function(e){return function(e){e.preventDefault(),g.signInWithEmailAndPassword(O,k).then((function(e){e&&(p.collection("users").doc(e.user.uid).get().then((function(e){console.log(e.data()),n({type:"SET_USER",userId:e.data().userId,userEmail:e.data().userEmail,userName:e.data().userName,basket:e.data().basket,user:!0})})),I.push("/"))})).catch((function(e){return alert(e.message)}))}(e)},children:"Sign In"})]})]})]})};var L=function(){var e=Object(s.useContext)(m),t=Object(r.a)(e,2),c=t[0],a=c.basket,i=c.user,o=(c.userName,c.userId);return t[1],Object(s.useEffect)((function(){i&&(p.collection("users").doc(o).update({basket:a}),console.log("basket updated",a.length))}),[a]),Object(b.jsx)(n.a.Fragment,{children:Object(b.jsxs)(d.a,{children:[Object(b.jsx)(x,{}),Object(b.jsxs)(u.c,{children:[Object(b.jsx)(u.a,{path:"/",exact:!0,component:T}),Object(b.jsx)(u.a,{path:"/checkout",component:K}),Object(b.jsx)(u.a,{path:"/signin",component:F})]})]})})},M=function(e,t){switch(t.type){case"ADD_ITEM_TO_BASKET":return Object(k.a)(Object(k.a)({},e),{},{basket:[].concat(Object(f.a)(e.basket),[t.item])});case"DELETE_ITEM_FROM_BASKET":return Object(k.a)(Object(k.a)({},e),{},{basket:Object(f.a)(e.basket).filter((function(e){return t.id!==e.id}))});case"SET_COUNT_OF_ITEM":var c=Object(f.a)(e.basket);return c.forEach((function(e){e.id===t.id&&(e.count=t.count)})),Object(k.a)(Object(k.a)({},e),{},{basket:c});case"SET_USER":return console.log("user added to local successfully",t.userName),Object(k.a)(Object(k.a)({},e),{},{userId:t.userId,userName:t.userName,userEmail:t.userEmail,user:t.user,basket:t.basket});default:return e}};i.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(O,{initialState:{basket:[],userId:"",userEmail:"",userName:"",user:!1},reducer:M,children:Object(b.jsx)(L,{})})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.681aa1ad.chunk.js.map